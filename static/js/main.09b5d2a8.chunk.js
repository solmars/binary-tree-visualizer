(this["webpackJsonpbinary-tree-visualizer"]=this["webpackJsonpbinary-tree-visualizer"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),l=n(7),o=n.n(l),s=(n(13),n(8)),a=n(0);function h(e){var t=e.props,n=Object(i.useState)(t.min_value),r=Object(s.a)(n,2),l=r[0],o=r[1];return Object(a.jsx)("input",{type:"range",min:t.min_value,max:t.max_value,step:t.step,value:l,onChange:function(e){o(e.target.value),t.onChange(e.target.value)}})}var u={CANVAS_MAXIMUM_WIDTH:32767,CANVAS_MAXIMUM_HEIGHT:32767,MAXIMUM_NODES:120,MINIMUM_NODES:20,NODE_RADIUS:25,NODE_DRAW_FONT:"15px Arial",NODE_PATH_COLOR:"yellow",NODE_SELECTED_COLOR:"#00FFFF",NODE_CURRENT_COLOR:"green",MINIMUM_SPEED:20,MAXIMUM_SPEED:1e3};function c(){return u.CANVAS_MAXIMUM_WIDTH}function f(){return u.CANVAS_MAXIMUM_HEIGHT}function d(){return u.MINIMUM_NODES}function v(){return u.MAXIMUM_NODES}function g(){return u.MINIMUM_SPEED}function O(){return u.NODE_DRAW_FONT}function b(){return u.NODE_RADIUS}function m(){return u.NODE_SELECTED_COLOR}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return null===t?null:(n.push(t),e===t.element?n:t.element>e?N(e,t.left,n):N(e,t.right,n))}var j=n(2),y=function e(t,n){Object(j.a)(this,e),this.node=t,this.type=n},p="current",x="in_path",S="sdst";function k(e,t,n,i){if(null===e.root)return null;var r=N(n,e.root),l=[];l.push(new y(r[0],S));for(var o=1;o<r.length-1;o++)l.push(new y(r[o],x));l.push(new y(r[r.length-1],S)),M(e,t,l,1,i)}function M(e,t,n,i,r){if(!(i>n.length)){i<n.length&&1!==i&&(n[i-1].type=p),i>2&&(n[i-2].type=x);for(var l=[],o=0;o<i;o++)l.push(n[o]);!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===n.length)return;t.clearRect(0,0,t.canvas.width,t.canvas.height),E(e.root,t,Math.floor(t.canvas.width/2),t.canvas.height-t.canvas.height+b(),n)}(e,t,l),setTimeout((function(){M(e,t,n,++i,r)}),r[0])}}function E(e,t,n,i,r){if(t.font=O(),t.beginPath(),t.arc(n,i,b(),0,2*Math.PI),t.stroke(),function(e,t,n){var i=function(e,t){for(var n=0;n<t.length;n++)if(t[n].node===e)return t[n];return null}(t,n);if(null===i)return;i.type===S?(e.fillStyle=m(),e.fill()):i.type===x?(e.fillStyle=u.NODE_PATH_COLOR,e.fill()):i.type===p&&(e.fillStyle=u.NODE_CURRENT_COLOR,e.fill())}(t,e,r),t.closePath(),t.textAlign="center",t.strokeText(e.element,n,i+5),null!==e.left){var l=e.left.canvasPos.x,o=e.left.canvasPos.y;w(t,n,i,l,o),E(e.left,t,l,o,r)}if(null!==e.right){var s=e.right.canvasPos.x,a=e.right.canvasPos.y;w(t,n,i,s,a),E(e.right,t,s,a,r)}}function w(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b();e.beginPath(),e.moveTo(t,n+l),e.lineTo(i,r-l),e.stroke()}var _=r.a.forwardRef((function(e,t){var n=Object(i.useContext)(W),r=v()-d()+20,l=[g()];l.length=1,Object.defineProperty(l,"length",{writable:!1});var o={min_value:d(),max_value:v(),step:4,onChange:function(e){for(var t=0;n.size()<e&&t<r;){var i=parseInt(1e3*Math.random());n.insert(i),t++}for(t=0;n.size()>e&&t<r;)n.remove(n.obtainRandomNodeElement()),t++;window.dispatchEvent(new Event("resize"))}},s={min_value:g(),max_value:u.MAXIMUM_SPEED,step:20,onChange:function(e){l[0]=e}};return Object(a.jsxs)("header",{className:"App-Header",children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(a.jsx)("h1",{children:"Shortest path"}),Object(a.jsx)("button",{className:"btn",onClick:function(){return function(){var e=t.current.getContext("2d");0!==n.selectedNodes.length&&(k(n,e,n.selectedNodes[0].element,l),n.inOrderNodes().filter((function(e){return e.isSelected})).forEach((function(e){return e.changeSelectStatus()})),n.selectedNodes=[])}()},children:"Run algorithm"})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:["Nodes: ",o.min_value," "]}),Object(a.jsx)(h,{props:o}),Object(a.jsxs)("label",{children:[" ",o.max_value," "]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("label",{children:["Speed(ms): ",s.min_value," "]}),Object(a.jsx)(h,{props:s}),Object(a.jsxs)("label",{children:[" ",s.max_value," "]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"btn",onClick:function(){},children:"+"}),Object(a.jsx)("button",{className:"btn",onClick:function(){return console.log("hello")},children:"-"})]})]})}));var I=r.a.forwardRef((function(e,t){var n=Object(i.useContext)(W);return Object(i.useEffect)((function(){var e=t.current,i=function(){n.draw(l)},r=function(t){var r=e.getBoundingClientRect(),l=r.width-r.x,o=r.height,s=t.clientX-r.left,a=t.clientY-r.top,h=s*(e.width/l),u=a*(e.height/o),c=n.getNodeInPosition(h,u,n.root);c&&(c.changeSelectStatus(),c.isSelected?n.selectedNodes.push(c):n.selectedNodes=n.selectedNodes.filter((function(e){return e!==c})),i())},l=e.getContext("2d"),o=function(){var t=e.parentNode,n=getComputedStyle(t),r=parseInt(n.getPropertyValue("width")),l=parseInt(n.getPropertyValue("height"));e.width=r,e.height=l,i()};return o(),function(e){for(var t=0;t<20;t++){var n=parseInt(1e3*Math.random());e.insert(n)}}(n),i(),window.addEventListener("resize",o),e.addEventListener("click",r),function(){window.removeEventListener("resize",o),window.removeEventListener("click",r)}}),[n,t]),Object(a.jsx)("canvas",{ref:t})})),P=r.a.forwardRef((function(e,t){return Object(a.jsx)("main",{children:Object(a.jsx)(I,{ref:t})})}));var R=function(){return Object(a.jsxs)("footer",{children:[Object(a.jsx)("h3",{children:"Binary tree visualizer-"}),Object(a.jsx)("a",{href:"https://github.com/solmars",children:"https://github.com/solmars"})]})},H=n(3),C=n(5),A=n(4),D=function e(t){Object(j.a)(this,e),this.element=t,this.left=null,this.right=null,this.level=0},T=function(e){Object(C.a)(n,e);var t=Object(A.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"updateHeight",value:function(e){e.level=1+Math.max(this.nodeHeight(e.left),this.nodeHeight(e.right))}},{key:"nodeHeight",value:function(e){return null==e?-1:e.level}},{key:"balanceFactor",value:function(e){return null==e?0:this.nodeHeight(e.right)-this.nodeHeight(e.left)}},{key:"rightRotation",value:function(e){var t=e.left,n=t.right;return t.right=e,e.left=n,this.updateHeight(e),this.updateHeight(t),t}},{key:"leftRotation",value:function(e){var t=e.right,n=t.left;return t.left=e,e.right=n,this.updateHeight(e),this.updateHeight(t),t}},{key:"twoRotations",value:function(e){return this.balanceFactor(e)<0?(e.left=this.leftRotation(e.left),e=this.rightRotation(e)):(e.right=this.rightRotation(e.right),e=this.leftRotation(e)),e}},{key:"balanceNode",value:function(e){this.updateHeight(e);var t=this.balanceFactor(e);return t>1?(this.nodeHeight(e.right.right)>this.nodeHeight(e.right.left)||(e.right=this.rightRotation(e.right)),e=this.leftRotation(e)):t<-1&&(this.nodeHeight(e.left.left)>this.nodeHeight(e.left.right)||(e.left=this.leftRotation(e.left)),e=this.rightRotation(e)),e}},{key:"insert",value:function(e){this.root=this.insertNode(e,this.root)}},{key:"insertNode",value:function(e,t){return null===t?new D(e):(t.element>e?t.left=this.insertNode(e,t.left):t.element<e&&(t.right=this.insertNode(e,t.right)),this.balanceNode(t))}},{key:"obtainRandomNodeElement",value:function(){return this.inOrder()[parseInt(Math.random()*this.size())]}},{key:"remove",value:function(e){this.removeNode(e,this.root)}},{key:"removeNode",value:function(e,t){if(null===t)return null;if(t.element>e)t.left=this.removeNode(e,t.left);else if(t.element<e)t.right=this.removeNode(e,t.right);else if(null==t.left||null==t.right)t=null==t.left?t.right:t.left;else{var n=this.smallestElementOfSubtree(t.right);t.element=n,t.right=this.removeNode(n,t.right)}return null!=t&&(t=this.balanceNode(t)),t}}]),n}(function(){function e(){Object(j.a)(this,e),this.root=null}return Object(H.a)(e,[{key:"size",value:function(){return null==this.root?0:this.calcSize(this.root)}},{key:"calcSize",value:function(e){return null===e?0:1+this.calcSize(e.left)+this.calcSize(e.right)}},{key:"insert",value:function(e){e&&(null!=this.root?this.insertNode(new D(e),this.root):this.root=new D(e))}},{key:"insertNode",value:function(e,t){return e.element<t.element?null===t.left?(t.left=e,t.left):this.insertNode(e,t.left):e.element>t.element?null===t.right?(t.right=e,t.right):this.insertNode(e,t.right):t}},{key:"remove",value:function(e){this.root=this.removeNode(e,this.root)}},{key:"removeNode",value:function(e,t){if(null===t)return null;if(e===t.element){if(null===t.left&&null==t.right)return null;if(null==t.left)return t.right;if(null==t.right)return t.left;var n=this.smallestElement(t.right);t.element=n,t.right=this.removeNode(n,t.right)}else e<t.element?t.left=this.removeNode(e,t.left):t.right=this.removeNode(e,t.right);return t}},{key:"smallestElement",value:function(){if(null===this.root)return null;for(var e=this.root;null!=e.left;)e=e.left;return e.element}},{key:"smallestElementOfSubtree",value:function(e){if(null===this.node)return null;for(;null!=e.left;)e=e.left;return e.element}},{key:"height",value:function(){return null===this.root?-1:this.calculateHeight(this.root)}},{key:"calculateHeight",value:function(e){if(null===e)return 0;var t=this.calculateHeight(e.left),n=this.calculateHeight(e.right);return t>n?t+1:n+1}},{key:"find",value:function(e){return null===this.root?null:this.findNode(e,this.root)}},{key:"findNode",value:function(e,t){return null===t?null:e===t.element?t:t.element>e?this.findNode(e,t.left):this.findNode(e,t.right)}},{key:"inOrderNodes",value:function(){var e=[];return null!=this.root&&this.inOrderNodeSubtree(this.root,e),e}},{key:"inOrderNodeSubtree",value:function(e,t){null!==e&&(this.inOrderNodeSubtree(e.left,t),t.push(e),this.inOrderNodeSubtree(e.right,t))}},{key:"inOrder",value:function(){var e=[];return null!=this.root&&this.inOrderSubtree(this.root,e),e}},{key:"inOrderSubtree",value:function(e,t){null!==e&&(this.inOrderSubtree(e.left,t),t.push(e.element),this.inOrderSubtree(e.right,t))}}]),e}()),U=function(e){Object(C.a)(n,e);var t=Object(A.a)(n);function n(e){var i;return Object(j.a)(this,n),(i=t.call(this,e)).canvasPos={x:0,y:0},i.radius=0,i.isSelected=!1,i}return Object(H.a)(n,[{key:"isInPosition",value:function(e,t){var n=this.canvasPos.x,i=this.canvasPos.y;return z(n-this.radius,e,n+this.radius)&&z(i-this.radius,t,i+this.radius)}},{key:"changeSelectStatus",value:function(){this.isSelected=!this.isSelected}}]),n}(D);function z(e,t,n){return t>=e&&t<=n}var L=function(e){Object(C.a)(n,e);var t=Object(A.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();return Object(j.a)(this,n),(e=t.call(this)).heightIncrease=0,e.nodeRadius=i,e.canvasWidth=0,e.canvasHeight=0,e.selectedNodes=[],e}return Object(H.a)(n,[{key:"insert",value:function(e){this.root=this.insertNode(e,this.root)}},{key:"insertNode",value:function(e,t){return null===t?new U(e):(t.element>e?t.left=this.insertNode(e,t.left):t.element<e&&(t.right=this.insertNode(e,t.right)),this.balanceNode(t))}},{key:"draw",value:function(e){var t=this;if(null!==this.root){e.clearRect(0,0,e.canvas.width,e.canvas.height);var n=this.height()+1,i=e.canvas.width/e.canvas.height;e.canvas.width=function(e){var n=2*t.nodeRadius*Math.pow(2,e-1);return n<c()?n:c()}(n),e.canvas.height=function(e,t){var n=e/t;return n<f()?n:f()}(e.canvas.width,i),this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.heightIncrease=Math.floor(e.canvas.height/(n-1)),this.drawTree(this.root,e,this.canvasWidth/2,this.canvasHeight-this.canvasHeight+b(),0)}}},{key:"getPosition",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{x:i?t-this.canvasWidth/2/Math.pow(2,e):t+this.canvasWidth/2/Math.pow(2,e),y:n+this.heightIncrease}}},{key:"drawTree",value:function(e,t,n,i,r){if(t.font=O(),e.canvasPos.x=n,e.canvasPos.y=i,e.radius=this.nodeRadius,t.beginPath(),t.arc(n,i,this.nodeRadius,0,2*Math.PI),t.stroke(),e.isSelected&&(t.fillStyle=m(),t.fill()),t.closePath(),t.textAlign="center",t.strokeText(e.element,n,i+5),r++,null!==e.left){var l=this.getPosition(r,n,i,!0),o=l.x,s=l.y;F(t,n,i,o,s),this.drawTree(e.left,t,o,s,r)}if(null!==e.right){var a=this.getPosition(r,n,i),h=a.x,u=a.y;F(t,n,i,h,u),this.drawTree(e.right,t,h,u,r)}}},{key:"getNodeInPosition",value:function(e,t,n){return null===n?null:n.canvasPos.x<e&&!n.isInPosition(e,t)?this.getNodeInPosition(e,t,n.right):n.canvasPos.x>e&&!n.isInPosition(e,t)?this.getNodeInPosition(e,t,n.left):n.isInPosition(e,t)?n:void 0}}]),n}(T);function F(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b();e.beginPath(),e.moveTo(t,n+l),e.lineTo(i,r-l),e.stroke()}var W=r.a.createContext();var X=function(){var e=new L,t=r.a.useRef(null);return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(W.Provider,{value:e,children:[Object(a.jsx)(_,{ref:t}),Object(a.jsx)(P,{ref:t}),Object(a.jsx)(R,{})]})})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(X,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.09b5d2a8.chunk.js.map