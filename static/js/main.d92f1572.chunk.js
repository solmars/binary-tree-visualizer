(this["webpackJsonpbinary-tree-visualizer"]=this["webpackJsonpbinary-tree-visualizer"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),l=n(10),o=n.n(l),a=(n(16),n(11)),s=n(0);function h(e){var t=e.props,n=Object(i.useState)(t.min_value),r=Object(a.a)(n,2),l=r[0],o=r[1];return Object(s.jsx)("input",{type:"range",min:t.min_value,max:t.max_value,step:t.step,value:l,onChange:function(e){var n=e.target.value;parseInt(n)+parseInt(t.step)>parseInt(t.max_value)&&(n=t.max_value),o(n),t.onChange(n)}})}var u={CANVAS_MAXIMUM_WIDTH:32767,CANVAS_MAXIMUM_HEIGHT:32767,MAXIMUM_NODES:120,MINIMUM_NODES:20,NODE_RADIUS:25,NODE_DRAW_FONT:"15px Arial",NODE_PATH_COLOR:"yellow",NODE_SELECTED_COLOR:"#00FFFF",NODE_CURRENT_COLOR:"green",MINIMUM_SPEED:10,MAXIMUM_SPEED:1e3};function c(){return u.CANVAS_MAXIMUM_WIDTH}function f(){return u.CANVAS_MAXIMUM_HEIGHT}function d(){return u.MINIMUM_NODES}function v(){return u.MAXIMUM_NODES}function g(){return u.MINIMUM_SPEED}function m(){return u.NODE_DRAW_FONT}function b(){return u.NODE_RADIUS}function O(){return u.NODE_SELECTED_COLOR}var N=n(9);function j(e,t,n){var i=[];return p(e,t,n.root,i),i}function p(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];null!==n&&(e<n.element&&n.element<t&&i.push(n),n.element<=t&&p(e,t,n.right,i),n.element>=e&&p(e,t,n.left,i))}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return null===t?null:(n.push(t),e===t.element?n:t.element>e?x(e,t.left,n):x(e,t.right,n))}var y=n(2),w=function e(t,n){Object(y.a)(this,e),this.node=t,this.type=n},E="current",S="in_path",M="sdst",_=function e(t){Object(y.a)(this,e),this.element=t,this.left=null,this.right=null,this.level=0};function k(e,t,n,i){if(null===e.root)return null;var r=x(n,e.root),l=[];l.push(new w(r[0],M));for(var o=1;o<r.length-1;o++)l.push(new w(r[o],S));l.push(new w(r[r.length-1],M)),I(e,t,l,1,i)}function I(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];if(!(i>n.length)){i<n.length&&1!==i&&(n[i-1].type=E),i>2&&(n[i-2].type=S);for(var a=l.length;a<i;a++)l.push(n[a]);P(e,t,[].concat(Object(N.a)(l),Object(N.a)(o))),setTimeout((function(){I(e,t,n,++i,r,l,o)}),r[0])}}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];0!==n.length&&(t.clearRect(0,0,t.canvas.width,t.canvas.height),R(e.root,t,Math.floor(t.canvas.width/2),t.canvas.height-t.canvas.height+b(),n))}function R(e,t,n,i,r){if(t.font=m(),t.beginPath(),t.arc(n,i,b(),0,2*Math.PI),t.stroke(),function(e,t,n){var i=function(e,t){for(var n=0;n<t.length;n++)if(t[n].node===e)return t[n];return null}(t,n);if(null===i)return;i.type===M?(e.fillStyle=O(),e.fill()):i.type===S?(e.fillStyle=u.NODE_PATH_COLOR,e.fill()):i.type===E&&(e.fillStyle=u.NODE_CURRENT_COLOR,e.fill())}(t,e,r),t.closePath(),t.textAlign="center",t.strokeText(e.element,n,i+5),null!==e.left){var l=e.left.canvasPos.x,o=e.left.canvasPos.y;A(t,n,i,l,o),R(e.left,t,l,o,r)}if(null!==e.right){var a=e.right.canvasPos.x,s=e.right.canvasPos.y;A(t,n,i,a,s),R(e.right,t,a,s,r)}}function A(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b();e.beginPath(),e.moveTo(t,n+l),e.lineTo(i,r-l),e.stroke()}function C(e){var t=e.props;return Object(s.jsxs)("select",{className:"dropdown",defaultValue:"DEFAULT",onChange:function(e){t.onChange&&t.onChange(e)},children:[Object(s.jsx)("option",{value:"DEFAULT",disabled:!0,children:t.defaultText}),t.options.map((function(e){return Object(s.jsx)("option",{value:e.value,children:e.text},e.value)}))]})}var H=r.a.forwardRef((function(e,t){var n=Object(i.useContext)(J),r=v()-d()+20,l=[g()];l.length=1,Object.defineProperty(l,"length",{writable:!1});var o="DEFAULT",a={min_value:d(),max_value:v(),step:4,onChange:function(e){for(var t=0;n.size()<e&&t<r;){var i=parseInt(1e3*Math.random());n.insert(i),t++}for(t=0;n.size()>e&&t<r;)n.remove(n.obtainRandomNodeElement()),t++;window.dispatchEvent(new Event("resize"))}},c={min_value:g(),max_value:u.MAXIMUM_SPEED,step:20,onChange:function(e){l[0]=e}};function f(){if("DEFAULT"!==o){var e=t.current.getContext("2d");switch(o){case"1":if(0===n.selectedNodes.length)return void alert("Select atleast one node!");var i=n.height();!function t(r){r<n.selectedNodes.length&&(k(n,e,n.selectedNodes[r].element,l),setTimeout((function(){t(++r)}),l*(i-n.calculateHeight(n.selectedNodes[r]))+1e3))}(0);break;case"2":case"3":break;case"4":if(n.selectedNodes.length<2)return void alert("Choose at least two nodes!");!function(e,t,n){if(!(e.selectedNodes.length<2)){var i=new _(Number.MAX_VALUE),r=new _(Number.MIN_VALUE);e.selectedNodes.forEach((function(e){i.element>e.element&&(i=e),r.element<e.element&&(r=e)}));var l=j(i.element,r.element,e),o=[];l.forEach((function(e){o.push(new w(e,S))})),I(e,t,o,1,n,[],[new w(i,M),new w(r,M)])}}(n,e,l)}}else alert("Please select an algorithm!")}var m={defaultText:"Choose algorithm...",options:[{value:"1",text:"Find nodes"},{value:"2",text:"Lowest common ancestor"},{value:"3",text:"Tree diameter paths"},{value:"4",text:"All between chosen nodes"}],onChange:function(e){o=e.target.value,n.inOrderNodes().filter((function(e){return e.isSelected})).forEach((function(e){return e.changeSelectStatus()})),n.selectedNodes=[],window.dispatchEvent(new Event("resize"))}};return Object(s.jsxs)("header",{className:"App-Header",children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexBasis:"23%"},children:[Object(s.jsx)(C,{props:m}),Object(s.jsx)("button",{className:"btn",onClick:function(){return f()},children:"Run algorithm"})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("label",{children:["Nodes: ",a.min_value," "]}),Object(s.jsx)(h,{props:a}),Object(s.jsxs)("label",{children:[" ",a.max_value," "]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("label",{children:["Speed(ms): ",c.min_value," "]}),Object(s.jsx)(h,{props:c}),Object(s.jsxs)("label",{children:[" ",c.max_value," "]})]}),"        "]})}));var D=r.a.forwardRef((function(e,t){var n=Object(i.useContext)(J);return Object(i.useEffect)((function(){var e=t.current,i=e.getContext("2d"),r=function(){n.draw(i)},l=function(t){var i=e.getBoundingClientRect(),l=i.width-i.x,o=i.height,a=t.clientX-i.left,s=t.clientY-i.top,h=a*(e.width/l),u=s*(e.height/o),c=n.getNodeInPosition(h,u,n.root);c&&(c.changeSelectStatus(),c.isSelected?n.selectedNodes.push(c):n.selectedNodes=n.selectedNodes.filter((function(e){return e!==c})),r())},o=function(){var t=e.parentNode,n=getComputedStyle(t),i=parseInt(n.getPropertyValue("width")),l=parseInt(n.getPropertyValue("height"));e.width=i,e.height=l,r()};return o(),function(e){for(var t=0;t<20;t++){var n=parseInt(1e3*Math.random());e.insert(n)}}(n),r(),window.addEventListener("resize",o),e.addEventListener("click",l),function(){window.removeEventListener("resize",o),window.removeEventListener("click",l)}}),[n,t]),Object(s.jsx)("canvas",{ref:t})})),T=r.a.forwardRef((function(e,t){return Object(s.jsx)("main",{children:Object(s.jsx)(D,{ref:t})})}));var U=function(){return Object(s.jsxs)("footer",{children:[Object(s.jsx)("h3",{children:"Binary tree visualizer-"}),Object(s.jsx)("a",{href:"https://github.com/solmars",children:"https://github.com/solmars"})]})},L=n(3),z=n(5),F=n(4),X=function(e){Object(z.a)(n,e);var t=Object(F.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"updateHeight",value:function(e){e.level=1+Math.max(this.nodeHeight(e.left),this.nodeHeight(e.right))}},{key:"nodeHeight",value:function(e){return null==e?-1:e.level}},{key:"balanceFactor",value:function(e){return null==e?0:this.nodeHeight(e.right)-this.nodeHeight(e.left)}},{key:"rightRotation",value:function(e){var t=e.left,n=t.right;return t.right=e,e.left=n,this.updateHeight(e),this.updateHeight(t),t}},{key:"leftRotation",value:function(e){var t=e.right,n=t.left;return t.left=e,e.right=n,this.updateHeight(e),this.updateHeight(t),t}},{key:"twoRotations",value:function(e){return this.balanceFactor(e)<0?(e.left=this.leftRotation(e.left),e=this.rightRotation(e)):(e.right=this.rightRotation(e.right),e=this.leftRotation(e)),e}},{key:"balanceNode",value:function(e){this.updateHeight(e);var t=this.balanceFactor(e);return t>1?(this.nodeHeight(e.right.right)>this.nodeHeight(e.right.left)||(e.right=this.rightRotation(e.right)),e=this.leftRotation(e)):t<-1&&(this.nodeHeight(e.left.left)>this.nodeHeight(e.left.right)||(e.left=this.leftRotation(e.left)),e=this.rightRotation(e)),e}},{key:"insert",value:function(e){this.root=this.insertNode(e,this.root)}},{key:"insertNode",value:function(e,t){return null===t?new _(e):(t.element>e?t.left=this.insertNode(e,t.left):t.element<e&&(t.right=this.insertNode(e,t.right)),this.balanceNode(t))}},{key:"obtainRandomNodeElement",value:function(){return this.inOrder()[parseInt(Math.random()*this.size())]}},{key:"remove",value:function(e){this.removeNode(e,this.root)}},{key:"removeNode",value:function(e,t){if(null===t)return null;if(t.element>e)t.left=this.removeNode(e,t.left);else if(t.element<e)t.right=this.removeNode(e,t.right);else if(null==t.left||null==t.right)t=null==t.left?t.right:t.left;else{var n=this.smallestElementOfSubtree(t.right);t.element=n,t.right=this.removeNode(n,t.right)}return null!=t&&(t=this.balanceNode(t)),t}}]),n}(function(){function e(){Object(y.a)(this,e),this.root=null}return Object(L.a)(e,[{key:"size",value:function(){return null==this.root?0:this.calcSize(this.root)}},{key:"calcSize",value:function(e){return null===e?0:1+this.calcSize(e.left)+this.calcSize(e.right)}},{key:"insert",value:function(e){e&&(null!=this.root?this.insertNode(new _(e),this.root):this.root=new _(e))}},{key:"insertNode",value:function(e,t){return e.element<t.element?null===t.left?(t.left=e,t.left):this.insertNode(e,t.left):e.element>t.element?null===t.right?(t.right=e,t.right):this.insertNode(e,t.right):t}},{key:"remove",value:function(e){this.root=this.removeNode(e,this.root)}},{key:"removeNode",value:function(e,t){if(null===t)return null;if(e===t.element){if(null===t.left&&null==t.right)return null;if(null==t.left)return t.right;if(null==t.right)return t.left;var n=this.smallestElement(t.right);t.element=n,t.right=this.removeNode(n,t.right)}else e<t.element?t.left=this.removeNode(e,t.left):t.right=this.removeNode(e,t.right);return t}},{key:"smallestElement",value:function(){if(null===this.root)return null;for(var e=this.root;null!=e.left;)e=e.left;return e.element}},{key:"smallestElementOfSubtree",value:function(e){if(null===this.node)return null;for(;null!=e.left;)e=e.left;return e.element}},{key:"height",value:function(){return null===this.root?-1:this.calculateHeight(this.root)}},{key:"calculateHeight",value:function(e){if(null===e)return 0;var t=this.calculateHeight(e.left),n=this.calculateHeight(e.right);return t>n?t+1:n+1}},{key:"find",value:function(e){return null===this.root?null:this.findNode(e,this.root)}},{key:"findNode",value:function(e,t){return null===t?null:e===t.element?t:t.element>e?this.findNode(e,t.left):this.findNode(e,t.right)}},{key:"inOrderNodes",value:function(){var e=[];return null!=this.root&&this.inOrderNodeSubtree(this.root,e),e}},{key:"inOrderNodeSubtree",value:function(e,t){null!==e&&(this.inOrderNodeSubtree(e.left,t),t.push(e),this.inOrderNodeSubtree(e.right,t))}},{key:"inOrder",value:function(){var e=[];return null!=this.root&&this.inOrderSubtree(this.root,e),e}},{key:"inOrderSubtree",value:function(e,t){null!==e&&(this.inOrderSubtree(e.left,t),t.push(e.element),this.inOrderSubtree(e.right,t))}}]),e}()),V=function(e){Object(z.a)(n,e);var t=Object(F.a)(n);function n(e){var i;return Object(y.a)(this,n),(i=t.call(this,e)).canvasPos={x:0,y:0},i.radius=0,i.isSelected=!1,i}return Object(L.a)(n,[{key:"isInPosition",value:function(e,t){var n=this.canvasPos.x,i=this.canvasPos.y;return W(n-this.radius,e,n+this.radius)&&W(i-this.radius,t,i+this.radius)}},{key:"changeSelectStatus",value:function(){this.isSelected=!this.isSelected}}]),n}(_);function W(e,t,n){return t>=e&&t<=n}var B=function(e){Object(z.a)(n,e);var t=Object(F.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();return Object(y.a)(this,n),(e=t.call(this)).heightIncrease=0,e.nodeRadius=i,e.canvasWidth=0,e.canvasHeight=0,e.selectedNodes=[],e}return Object(L.a)(n,[{key:"insert",value:function(e){this.root=this.insertNode(e,this.root)}},{key:"insertNode",value:function(e,t){return null===t?new V(e):(t.element>e?t.left=this.insertNode(e,t.left):t.element<e&&(t.right=this.insertNode(e,t.right)),this.balanceNode(t))}},{key:"draw",value:function(e){var t=this;if(null!==this.root){e.clearRect(0,0,e.canvas.width,e.canvas.height);var n=this.height()+1,i=e.canvas.width/e.canvas.height;e.canvas.width=function(e){var n=2*t.nodeRadius*Math.pow(2,e-1);return n<c()?n:c()}(n),e.canvas.height=function(e,t){var n=e/t;return n<f()?n:f()}(e.canvas.width,i),this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.heightIncrease=Math.floor(e.canvas.height/(n-1)),this.drawTree(this.root,e,this.canvasWidth/2,this.canvasHeight-this.canvasHeight+b(),0)}}},{key:"getPosition",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{x:i?t-this.canvasWidth/2/Math.pow(2,e):t+this.canvasWidth/2/Math.pow(2,e),y:n+this.heightIncrease}}},{key:"drawTree",value:function(e,t,n,i,r){if(t.font=m(),e.canvasPos.x=n,e.canvasPos.y=i,e.radius=this.nodeRadius,t.beginPath(),t.arc(n,i,this.nodeRadius,0,2*Math.PI),t.stroke(),e.isSelected&&(t.fillStyle=O(),t.fill()),t.closePath(),t.textAlign="center",t.strokeText(e.element,n,i+5),r++,null!==e.left){var l=this.getPosition(r,n,i,!0),o=l.x,a=l.y;G(t,n,i,o,a),this.drawTree(e.left,t,o,a,r)}if(null!==e.right){var s=this.getPosition(r,n,i),h=s.x,u=s.y;G(t,n,i,h,u),this.drawTree(e.right,t,h,u,r)}}},{key:"getNodeInPosition",value:function(e,t,n){return null===n?null:n.canvasPos.x<e&&!n.isInPosition(e,t)?this.getNodeInPosition(e,t,n.right):n.canvasPos.x>e&&!n.isInPosition(e,t)?this.getNodeInPosition(e,t,n.left):n.isInPosition(e,t)?n:void 0}}]),n}(X);function G(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b();e.beginPath(),e.moveTo(t,n+l),e.lineTo(i,r-l),e.stroke()}var J=r.a.createContext();var Y=function(){var e=new B,t=r.a.useRef(null);return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(J.Provider,{value:e,children:[Object(s.jsx)(H,{ref:t}),Object(s.jsx)(T,{ref:t}),Object(s.jsx)(U,{})]})})};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(Y,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d92f1572.chunk.js.map