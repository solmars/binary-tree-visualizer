(this["webpackJsonpbinary-tree-visualizer"]=this["webpackJsonpbinary-tree-visualizer"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),l=n(10),a=n.n(l),o=(n(16),n(11)),s=n(0);function u(e){var t=e.props,n=Object(i.useState)(t.min_value),r=Object(o.a)(n,2),l=r[0],a=r[1];return Object(s.jsx)("input",{type:"range",min:t.min_value,max:t.max_value,step:t.step,value:l,onChange:function(e){var n=e.target.value;parseInt(n)+parseInt(t.step)>parseInt(t.max_value)&&(n=t.max_value),a(n),t.onChange(n)}})}var h={CANVAS_MAXIMUM_WIDTH:32767,CANVAS_MAXIMUM_HEIGHT:32767,MAXIMUM_NODES:120,MINIMUM_NODES:20,NODE_RADIUS:25,NODE_DRAW_FONT:"15px Arial",NODE_PATH_COLOR:"yellow",NODE_SELECTED_COLOR:"#00FFFF",NODE_CURRENT_COLOR:"green",MINIMUM_SPEED:10,MAXIMUM_SPEED:1e3};function c(){return h.CANVAS_MAXIMUM_WIDTH}function f(){return h.CANVAS_MAXIMUM_HEIGHT}function d(){return h.MINIMUM_NODES}function v(){return h.MAXIMUM_NODES}function g(){return h.MINIMUM_SPEED}function m(){return h.NODE_DRAW_FONT}function b(){return h.NODE_RADIUS}function O(){return h.NODE_SELECTED_COLOR}var N=n(6);function p(e){for(var t=[],n=j(e,t),i=[],r=0;r<t.length;r++)for(var l=t[r].element,a=r+1;a<t.length;a++){var o=t[a].element,s=y(e,l,o);if(w(s,l,o)===n){var u=M(s,l);u.shift(),u.reverse();var h=M(s,o),c=[].concat(Object(N.a)(u),Object(N.a)(h));i.push({startNode:t[r],path:c,endNode:t[a]})}}return i}function j(e,t){if(null==e)return-1;var n=x(e.left),i=x(e.left),r=j(e.left,t),l=j(e.right,t);return 0===Math.max(n+i,Math.max(r,l))&&t.push(e),Math.max(n+i,Math.max(r,l))}function x(e){if(null===e)return 0;var t=x(e.left),n=x(e.right);return t>n?t+1:n+1}function y(e,t,n){if(null==e)return e;if(e.element===t||e.element===n)return e;var i=y(e.left,t,n),r=y(e.right,t,n);return null!==i&&null!==r?e:null===i&&null===r?null:y(null!=i?e.left:e.right,t,n)}function w(e,t,n){return E(e,t,0)+E(e,n,0)}function E(e,t,n){if(null==e)return-1;if(e.element===t)return n;var i=E(e.left,t,n+1);return-1===i?E(e.right,t,n+1):i}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return null===e?null:t===e.element?n:(n.push(e),e.element>t?M(e.left,t,n):M(e.right,t,n))}function S(e,t,n){var i=[];return k(e,t,n.root,i),i}function k(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];null!==n&&(e<n.element&&n.element<t&&i.push(n),n.element<=t&&k(e,t,n.right,i),n.element>=e&&k(e,t,n.left,i))}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return null===t?null:(n.push(t),e===t.element?n:t.element>e?_(e,t.left,n):_(e,t.right,n))}var I=n(2),P=function e(t,n){Object(I.a)(this,e),this.node=t,this.type=n},R="current",A="in_path",C="sdst",H=function e(t){Object(I.a)(this,e),this.element=t,this.left=null,this.right=null,this.level=0};function T(e,t,n,i){if(null===e.root)return null;var r=_(n,e.root),l=[];l.push(new P(r[0],C));for(var a=1;a<r.length-1;a++)l.push(new P(r[a],A));l.push(new P(r[r.length-1],C)),D(e,t,l,1,i)}function D(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];if(!(i>n.length)){i<n.length&&1!==i&&(n[i-1].type=R),i>2&&(n[i-2].type=A);for(var o=l.length;o<i;o++)l.push(n[o]);U(e,t,[].concat(Object(N.a)(l),Object(N.a)(a))),setTimeout((function(){D(e,t,n,++i,r,l,a)}),r[0])}}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];0!==n.length&&(t.clearRect(0,0,t.canvas.width,t.canvas.height),L(e.root,t,Math.floor(t.canvas.width/2),t.canvas.height-t.canvas.height+b(),n))}function L(e,t,n,i,r){if(t.font=m(),t.beginPath(),t.arc(n,i,b(),0,2*Math.PI),t.stroke(),function(e,t,n){var i=function(e,t){for(var n=0;n<t.length;n++)if(t[n].node===e)return t[n];return null}(t,n);if(null===i)return;i.type===C?(e.fillStyle=O(),e.fill()):i.type===A?(e.fillStyle=h.NODE_PATH_COLOR,e.fill()):i.type===R&&(e.fillStyle=h.NODE_CURRENT_COLOR,e.fill())}(t,e,r),t.closePath(),t.textAlign="center",t.strokeText(e.element,n,i+5),null!==e.left){var l=e.left.canvasPos.x,a=e.left.canvasPos.y;z(t,n,i,l,a),L(e.left,t,l,a,r)}if(null!==e.right){var o=e.right.canvasPos.x,s=e.right.canvasPos.y;z(t,n,i,o,s),L(e.right,t,o,s,r)}}function z(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b();e.beginPath(),e.moveTo(t,n+l),e.lineTo(i,r-l),e.stroke()}function F(e){var t=e.props;return Object(s.jsxs)("select",{className:"dropdown",defaultValue:"DEFAULT",onChange:function(e){t.onChange&&t.onChange(e)},children:[Object(s.jsx)("option",{value:"DEFAULT",disabled:!0,children:t.defaultText}),t.options.map((function(e){return Object(s.jsx)("option",{value:e.value,children:e.text},e.value)}))]})}var X=r.a.forwardRef((function(e,t){var n=Object(i.useContext)(ee),r=v()-d()+20,l=[g()];l.length=1,Object.defineProperty(l,"length",{writable:!1});var a="DEFAULT",o={min_value:d(),max_value:v(),step:4,onChange:function(e){for(var t=0;n.size()<e&&t<r;){var i=parseInt(1e3*Math.random());n.insert(i),t++}for(t=0;n.size()>e&&t<r;)n.remove(n.obtainRandomNodeElement()),t++;window.dispatchEvent(new Event("resize"))}},c={min_value:g(),max_value:h.MAXIMUM_SPEED,step:20,onChange:function(e){l[0]=e}};function f(){if("DEFAULT"!==a){var e=t.current.getContext("2d");switch(a){case"1":if(0===n.selectedNodes.length)return void alert("Select atleast one node!");var i=n.height();!function t(r){r<n.selectedNodes.length&&(T(n,e,n.selectedNodes[r].element,l),setTimeout((function(){t(++r)}),l*(i-n.calculateHeight(n.selectedNodes[r]))+1e3))}(0);break;case"2":break;case"3":!function(e,t,n){var i=p(e.root);!function r(l){if(!(l>=i.length)){var a=[];i[l].path.forEach((function(e){a.push(new P(e,A))})),D(e,t,a,1,n,[],[new P(i[l].startNode,C),new P(i[l].endNode,C)]),setTimeout((function(){r(++l)}),n*i[l].path.length+(n>150?1e3:50))}}(0)}(n,e,l);break;case"4":if(n.selectedNodes.length<2)return void alert("Choose at least two nodes!");!function(e,t,n){if(!(e.selectedNodes.length<2)){var i=new H(Number.MAX_VALUE),r=new H(Number.MIN_VALUE);e.selectedNodes.forEach((function(e){i.element>e.element&&(i=e),r.element<e.element&&(r=e)}));var l=S(i.element,r.element,e),a=[];l.forEach((function(e){a.push(new P(e,A))})),D(e,t,a,1,n,[],[new P(i,C),new P(r,C)])}}(n,e,l)}}else alert("Please select an algorithm!")}var m={defaultText:"Choose algorithm...",options:[{value:"1",text:"Find nodes"},{value:"2",text:"Lowest common ancestor"},{value:"3",text:"Tree diameter paths"},{value:"4",text:"All between chosen nodes"}],onChange:function(e){a=e.target.value,n.inOrderNodes().filter((function(e){return e.isSelected})).forEach((function(e){return e.changeSelectStatus()})),n.selectedNodes=[],window.dispatchEvent(new Event("resize"))}};return Object(s.jsxs)("header",{className:"App-Header",children:[Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexBasis:"23%"},children:[Object(s.jsx)(F,{props:m}),Object(s.jsx)("button",{className:"btn",onClick:function(){return f()},children:"Run algorithm"})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("label",{children:["Nodes: ",o.min_value," "]}),Object(s.jsx)(u,{props:o}),Object(s.jsxs)("label",{children:[" ",o.max_value," "]})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("label",{children:["Speed(ms): ",c.min_value," "]}),Object(s.jsx)(u,{props:c}),Object(s.jsxs)("label",{children:[" ",c.max_value," "]})]}),"        "]})}));var V=r.a.forwardRef((function(e,t){var n=Object(i.useContext)(ee);return Object(i.useEffect)((function(){var e=t.current,i=e.getContext("2d"),r=function(){n.draw(i)},l=function(t){var i=e.getBoundingClientRect(),l=i.width-i.x,a=i.height,o=t.clientX-i.left,s=t.clientY-i.top,u=o*(e.width/l),h=s*(e.height/a),c=n.getNodeInPosition(u,h,n.root);c&&(c.changeSelectStatus(),c.isSelected?n.selectedNodes.push(c):n.selectedNodes=n.selectedNodes.filter((function(e){return e!==c})),r())},a=function(){var t=e.parentNode,n=getComputedStyle(t),i=parseInt(n.getPropertyValue("width")),l=parseInt(n.getPropertyValue("height"));e.width=i,e.height=l,r()};return a(),function(e){for(var t=0;t<20;t++){var n=parseInt(1e3*Math.random());e.insert(n)}}(n),r(),window.addEventListener("resize",a),e.addEventListener("click",l),function(){window.removeEventListener("resize",a),window.removeEventListener("click",l)}}),[n,t]),Object(s.jsx)("canvas",{ref:t})})),W=r.a.forwardRef((function(e,t){return Object(s.jsx)("main",{children:Object(s.jsx)(V,{ref:t})})}));var B=function(){return Object(s.jsxs)("footer",{children:[Object(s.jsx)("h3",{children:"Binary tree visualizer-"}),Object(s.jsx)("a",{href:"https://github.com/solmars",children:"https://github.com/solmars"})]})},G=n(3),J=n(5),Y=n(4),q=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"updateHeight",value:function(e){e.level=1+Math.max(this.nodeHeight(e.left),this.nodeHeight(e.right))}},{key:"nodeHeight",value:function(e){return null==e?-1:e.level}},{key:"balanceFactor",value:function(e){return null==e?0:this.nodeHeight(e.right)-this.nodeHeight(e.left)}},{key:"rightRotation",value:function(e){var t=e.left,n=t.right;return t.right=e,e.left=n,this.updateHeight(e),this.updateHeight(t),t}},{key:"leftRotation",value:function(e){var t=e.right,n=t.left;return t.left=e,e.right=n,this.updateHeight(e),this.updateHeight(t),t}},{key:"twoRotations",value:function(e){return this.balanceFactor(e)<0?(e.left=this.leftRotation(e.left),e=this.rightRotation(e)):(e.right=this.rightRotation(e.right),e=this.leftRotation(e)),e}},{key:"balanceNode",value:function(e){this.updateHeight(e);var t=this.balanceFactor(e);return t>1?(this.nodeHeight(e.right.right)>this.nodeHeight(e.right.left)||(e.right=this.rightRotation(e.right)),e=this.leftRotation(e)):t<-1&&(this.nodeHeight(e.left.left)>this.nodeHeight(e.left.right)||(e.left=this.leftRotation(e.left)),e=this.rightRotation(e)),e}},{key:"insert",value:function(e){this.root=this.insertNode(e,this.root)}},{key:"insertNode",value:function(e,t){return null===t?new H(e):(t.element>e?t.left=this.insertNode(e,t.left):t.element<e&&(t.right=this.insertNode(e,t.right)),this.balanceNode(t))}},{key:"obtainRandomNodeElement",value:function(){return this.inOrder()[parseInt(Math.random()*this.size())]}},{key:"remove",value:function(e){this.removeNode(e,this.root)}},{key:"removeNode",value:function(e,t){if(null===t)return null;if(t.element>e)t.left=this.removeNode(e,t.left);else if(t.element<e)t.right=this.removeNode(e,t.right);else if(null==t.left||null==t.right)t=null==t.left?t.right:t.left;else{var n=this.smallestElementOfSubtree(t.right);t.element=n,t.right=this.removeNode(n,t.right)}return null!=t&&(t=this.balanceNode(t)),t}}]),n}(function(){function e(){Object(I.a)(this,e),this.root=null}return Object(G.a)(e,[{key:"size",value:function(){return null==this.root?0:this.calcSize(this.root)}},{key:"calcSize",value:function(e){return null===e?0:1+this.calcSize(e.left)+this.calcSize(e.right)}},{key:"insert",value:function(e){e&&(null!=this.root?this.insertNode(new H(e),this.root):this.root=new H(e))}},{key:"insertNode",value:function(e,t){return e.element<t.element?null===t.left?(t.left=e,t.left):this.insertNode(e,t.left):e.element>t.element?null===t.right?(t.right=e,t.right):this.insertNode(e,t.right):t}},{key:"remove",value:function(e){this.root=this.removeNode(e,this.root)}},{key:"removeNode",value:function(e,t){if(null===t)return null;if(e===t.element){if(null===t.left&&null==t.right)return null;if(null==t.left)return t.right;if(null==t.right)return t.left;var n=this.smallestElement(t.right);t.element=n,t.right=this.removeNode(n,t.right)}else e<t.element?t.left=this.removeNode(e,t.left):t.right=this.removeNode(e,t.right);return t}},{key:"smallestElement",value:function(){if(null===this.root)return null;for(var e=this.root;null!=e.left;)e=e.left;return e.element}},{key:"smallestElementOfSubtree",value:function(e){if(null===this.node)return null;for(;null!=e.left;)e=e.left;return e.element}},{key:"height",value:function(){return null===this.root?-1:this.calculateHeight(this.root)}},{key:"calculateHeight",value:function(e){if(null===e)return 0;var t=this.calculateHeight(e.left),n=this.calculateHeight(e.right);return t>n?t+1:n+1}},{key:"find",value:function(e){return null===this.root?null:this.findNode(e,this.root)}},{key:"findNode",value:function(e,t){return null===t?null:e===t.element?t:t.element>e?this.findNode(e,t.left):this.findNode(e,t.right)}},{key:"inOrderNodes",value:function(){var e=[];return null!=this.root&&this.inOrderNodeSubtree(this.root,e),e}},{key:"inOrderNodeSubtree",value:function(e,t){null!==e&&(this.inOrderNodeSubtree(e.left,t),t.push(e),this.inOrderNodeSubtree(e.right,t))}},{key:"inOrder",value:function(){var e=[];return null!=this.root&&this.inOrderSubtree(this.root,e),e}},{key:"inOrderSubtree",value:function(e,t){null!==e&&(this.inOrderSubtree(e.left,t),t.push(e.element),this.inOrderSubtree(e.right,t))}}]),e}()),K=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(e){var i;return Object(I.a)(this,n),(i=t.call(this,e)).canvasPos={x:0,y:0},i.radius=0,i.isSelected=!1,i}return Object(G.a)(n,[{key:"isInPosition",value:function(e,t){var n=this.canvasPos.x,i=this.canvasPos.y;return Q(n-this.radius,e,n+this.radius)&&Q(i-this.radius,t,i+this.radius)}},{key:"changeSelectStatus",value:function(){this.isSelected=!this.isSelected}}]),n}(H);function Q(e,t,n){return t>=e&&t<=n}var Z=function(e){Object(J.a)(n,e);var t=Object(Y.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();return Object(I.a)(this,n),(e=t.call(this)).heightIncrease=0,e.nodeRadius=i,e.canvasWidth=0,e.canvasHeight=0,e.selectedNodes=[],e}return Object(G.a)(n,[{key:"insert",value:function(e){this.root=this.insertNode(e,this.root)}},{key:"insertNode",value:function(e,t){return null===t?new K(e):(t.element>e?t.left=this.insertNode(e,t.left):t.element<e&&(t.right=this.insertNode(e,t.right)),this.balanceNode(t))}},{key:"draw",value:function(e){var t=this;if(null!==this.root){e.clearRect(0,0,e.canvas.width,e.canvas.height);var n=this.height()+1,i=e.canvas.width/e.canvas.height;e.canvas.width=function(e){var n=2*t.nodeRadius*Math.pow(2,e-1);return n<c()?n:c()}(n),e.canvas.height=function(e,t){var n=e/t;return n<f()?n:f()}(e.canvas.width,i),this.canvasWidth=e.canvas.width,this.canvasHeight=e.canvas.height,this.heightIncrease=Math.floor(e.canvas.height/(n-1)),this.drawTree(this.root,e,this.canvasWidth/2,this.canvasHeight-this.canvasHeight+b(),0)}}},{key:"getPosition",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{x:i?t-this.canvasWidth/2/Math.pow(2,e):t+this.canvasWidth/2/Math.pow(2,e),y:n+this.heightIncrease}}},{key:"drawTree",value:function(e,t,n,i,r){if(t.font=m(),e.canvasPos.x=n,e.canvasPos.y=i,e.radius=this.nodeRadius,t.beginPath(),t.arc(n,i,this.nodeRadius,0,2*Math.PI),t.stroke(),e.isSelected&&(t.fillStyle=O(),t.fill()),t.closePath(),t.textAlign="center",t.strokeText(e.element,n,i+5),r++,null!==e.left){var l=this.getPosition(r,n,i,!0),a=l.x,o=l.y;$(t,n,i,a,o),this.drawTree(e.left,t,a,o,r)}if(null!==e.right){var s=this.getPosition(r,n,i),u=s.x,h=s.y;$(t,n,i,u,h),this.drawTree(e.right,t,u,h,r)}}},{key:"getNodeInPosition",value:function(e,t,n){return null===n?null:n.canvasPos.x<e&&!n.isInPosition(e,t)?this.getNodeInPosition(e,t,n.right):n.canvasPos.x>e&&!n.isInPosition(e,t)?this.getNodeInPosition(e,t,n.left):n.isInPosition(e,t)?n:void 0}}]),n}(q);function $(e,t,n,i,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b();e.beginPath(),e.moveTo(t,n+l),e.lineTo(i,r-l),e.stroke()}var ee=r.a.createContext();var te=function(){var e=new Z,t=r.a.useRef(null);return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(ee.Provider,{value:e,children:[Object(s.jsx)(X,{ref:t}),Object(s.jsx)(W,{ref:t}),Object(s.jsx)(B,{})]})})};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(te,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.ebd360d1.chunk.js.map